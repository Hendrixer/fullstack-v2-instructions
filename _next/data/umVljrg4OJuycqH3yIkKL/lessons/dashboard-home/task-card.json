{"pageProps":{"post":{"attributes":{},"html":"<h2 id=\"taskcard-component\">TaskCard Component</h2>\n<p>Next is the task card. Create <code>/components/TaskCard.tsx</code>:</p>\n<pre><code class=\"hljs language-ts\"><span class=\"hljs-keyword\">import</span> { getUserFromCookie } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;@/lib/auth&quot;</span>;\n<span class=\"hljs-keyword\">import</span> { db } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;@/lib/db&quot;</span>;\n<span class=\"hljs-keyword\">import</span> { <span class=\"hljs-variable constant_\">TASK_STATUS</span> } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;@prisma/client&quot;</span>;\n<span class=\"hljs-keyword\">import</span> { cookies } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;next/headers&quot;</span>;\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">Button</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;./Button&quot;</span>;\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">Card</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;./Card&quot;</span>;\n\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">getData</span> = <span class=\"hljs-keyword\">async</span> (<span class=\"hljs-params\"></span>) =&gt; {\n  <span class=\"hljs-keyword\">const</span> user = <span class=\"hljs-keyword\">await</span> <span class=\"hljs-title function_\">getUserFromCookie</span>(<span class=\"hljs-title function_\">cookies</span>());\n  <span class=\"hljs-keyword\">const</span> tasks = <span class=\"hljs-keyword\">await</span> db.<span class=\"hljs-property\">task</span>.<span class=\"hljs-title function_\">findMany</span>({\n    <span class=\"hljs-attr\">where</span>: {\n      <span class=\"hljs-attr\">ownerId</span>: user.<span class=\"hljs-property\">id</span>,\n      <span class=\"hljs-attr\">NOT</span>: {\n        <span class=\"hljs-attr\">status</span>: <span class=\"hljs-variable constant_\">TASK_STATUS</span>.<span class=\"hljs-property\">COMPLETED</span>,\n        <span class=\"hljs-attr\">deleted</span>: <span class=\"hljs-literal\">false</span>,\n      },\n    },\n    <span class=\"hljs-attr\">take</span>: <span class=\"hljs-number\">5</span>,\n    <span class=\"hljs-attr\">orderBy</span>: {\n      <span class=\"hljs-attr\">due</span>: <span class=\"hljs-string\">&quot;asc&quot;</span>,\n    },\n  });\n\n  <span class=\"hljs-keyword\">return</span> tasks;\n};\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">TaskCard</span> = <span class=\"hljs-keyword\">async</span> (<span class=\"hljs-params\">{ title, tasks }</span>) =&gt; {\n  <span class=\"hljs-keyword\">const</span> data = tasks || (<span class=\"hljs-keyword\">await</span> <span class=\"hljs-title function_\">getData</span>());\n\n  <span class=\"hljs-keyword\">return</span> (\n    <span class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Card</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">&quot;flex justify-between items-center&quot;</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">&quot;text-3xl text-gray-600&quot;</span>&gt;</span>{title}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Button</span> <span class=\"hljs-attr\">intent</span>=<span class=\"hljs-string\">&quot;text&quot;</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">&quot;text-violet-600&quot;</span>&gt;</span>\n            + Create New\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Button</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n        {data &amp;&amp; data.length ? (\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n            {data.map((task) =&gt; (\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">&quot;py-2 &quot;</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n                  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">&quot;text-gray-800&quot;</span>&gt;</span>{task.name}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n                  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">&quot;text-gray-400 text-sm&quot;</span>&gt;</span>\n                    {task.description}\n                  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n            ))}\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n        ) : (\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>no tasks<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n        )}\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Card</span>&gt;</span></span>\n  );\n};\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-title class_\">TaskCard</span>;\n</code></pre>\n","slug":"task-card","title":"Task Card","section":"Dashboard Home","icon":"columns","filePath":"/home/runner/work/fullstack-v2-instructions/fullstack-v2-instructions/lessons/08-dashboard-home/E-task-card.md","nextSlug":"/lessons/dashboard-home/loader","prevSlug":"/lessons/dashboard-home/project-card"}},"__N_SSG":true}